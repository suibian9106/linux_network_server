数据报文
```C
// 简单文本协议 - echo服务器使用原始字节流
struct EchoMessage {
    int length;              // 数据长度
    char[] data;     // 数据内容
}Message;
```

客户端类
```C++
class Client {
private:
  int sockfd;   //套接字描述符
  std::string server_ip;    //服务器IP
  int server_port;      //服务器端口
  bool connected;       //是否处于连接状态

public:
  Client(const std::string &ip, int port);
  ~Client();
  bool connectToServer();    //连接到服务器
  void disconnect();     //关闭连接
  std::string sendRequest(const Message &request, int timeout_seconds);  //发送请求和处理接收
  bool isConnected() const;     //判断是否处于连接状态
};

```

服务器类
```C++
// 服务器配置
struct ServerConfig {
    int port = 8080;
    int max_events = 1024;
    int timeout_ms = 10000; // 10秒超时
    bool use_et_mode = true; // 使用边缘触发模式
};

class EpollServer {
public:
    EpollServer(const ServerConfig& config);
    ~EpollServer();
    
    bool initialize();
    void run();
    void stop();
    
private:
    bool setupListenSocket();       //获取监听套接字
    bool setupEpoll();              //创建epoll
    void handleNewConnection();     //处理新连接
    void handleClientData(int fd);  //处理客户端数据，回射
    void handleClientClose(int fd); //关闭连接
    void addEpollEvent(int fd, uint32_t events);    //添加epoll事件
    void removeEpollEvent(int fd);                  //删除epoll事件
    
private:
    ServerConfig config_;   //服务器配置
    int listen_fd_;         //监听套接字描述符
    int epoll_fd_;          //epoll描述符
    bool running_;          //服务器是否在运行
};
```